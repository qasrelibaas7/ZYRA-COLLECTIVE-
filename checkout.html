<!DOCTYPE html>
<html>
<head>
<title>Checkout | Zyra</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{background:#0f0f0f;color:white;font-family:Poppins;padding:20px}
input,select{width:100%;padding:12px;margin:8px 0;border-radius:10px;border:none}
button{padding:12px;width:100%;margin-top:10px;border:none;border-radius:20px;font-weight:bold}
.cod{background:white;color:black}
.upi{background:#00e676;color:black}
.wa{background:#25D366;color:white}
.box{background:#111;padding:20px;border-radius:20px;margin-bottom:20px}
</style>
</head>
<body>

<h2>Checkout</h2>

<div class="box">
<input id="name" placeholder="Full Name">
<input id="phone" placeholder="Phone Number">
<input id="address" placeholder="Delivery Address">
</div>

<div class="box">
<h3>Payment Method</h3>
<button class="cod" onclick="pay('COD')">Cash on Delivery</button>
<button class="upi" onclick="pay('UPI')">Pay via UPI</button>
<button class="wa" onclick="pay('WA')">WhatsApp Order</button>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")||"[]")

function pay(method){
let name=nameInput(), phone=phoneInput(), address=addressInput()
if(!name||!phone||!address){alert("Fill all fields");return}

let total=cart.reduce((s,i)=>s+i.price,0)
let summary=cart.map(i=>`${i.name} ₹${i.price}`).join(", ")

if(method=="UPI"){
window.location.href=`upi://pay?pa=7385009275@fam&pn=Zyra&am=${total}&cu=INR`
}

if(method=="WA"){
let msg=`New Order\nName: ${name}\nPhone: ${phone}\nAddress: ${address}\nItems: ${summary}\nTotal: ₹${total}`
window.open(`https://wa.me/91${phone}?text=${encodeURIComponent(msg)}`)
}

if(method=="COD"){
alert("Order Placed Successfully!")
localStorage.removeItem("cart")
}
}

function nameInput(){return document.getElementById("name").value}
function phoneInput(){return document.getElementById("phone").value}
function addressInput(){return document.getElementById("address").value}
</script>

</body>
</html>
